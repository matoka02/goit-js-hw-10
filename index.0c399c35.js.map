{"mappings":"YAKA,IAAMA,EAASC,SAASC,cAAc,iBAGhCC,GAFSF,SAASC,cAAc,WACpBD,SAASC,cAAc,UACzBD,SAASC,cAAc,cAGjCE,EAAW,6CACXC,EAAU,wEAOLC,MAAM,GAAYC,OATZ,yCAUZC,MAAK,SAAAC,GAEwB,IAAtBA,EAAKC,GACL,MAAM,IAAIC,MAAMF,EAAKG,YAGzB,OAAOH,EAAKI,M,IAEfL,MAAK,SAAAM,GAQV,IACUC,IAPYD,EAOCE,KAAI,SAAAC,G,MAAQ,kBAA8BV,OAAZU,EAAKC,GAAG,MAAcX,OAAVU,EAAKE,KAAK,Y,IAAYC,KAAK,IAExFpB,EAAOqB,UAAYN,C,IAPlBO,OAAM,SAAAC,G,OAAOC,QAAQC,MAAMF,E,IAajBvB,EAAR0B,iBAAiB,UAExB,SAAkBC,GACdA,EAAIC,iBAIJ,IAAMC,EAAUF,EAAIG,cAAcC,MAGf,GAFnBP,QAAQQ,IAAIH,IAERA,EAEA,YADAI,MAAM,gBAYd,SAAyBJ,GACrB,OAAOvB,MAAM,GAAkCC,OAA/BH,EAAS,wBAAyCG,OAAnBsB,EAAQ,aAAmBtB,OAARF,IACjEG,MAAK,SAAAC,GAEmB,IAAjBA,EAAKC,GACL,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,M,IAEfS,OAAM,SAAAC,G,OAAOC,QAAQC,MAAMF,E,KAjB5BW,CAAgBL,GAASrB,MAAK,SAAAM,GAG1BU,QAAQQ,IAAIlB,GA8BpB,SAAsBqB,GAClBX,QAAQQ,IAAIG,GACZ,IAAMpB,EAASoB,EAAInB,KAAI,SAAAC,G,MAEvB,uBAEYV,OADDU,EAAKmB,OAAOjB,KAAK,wBACPZ,OAATU,EAAKoB,IAAI,kJ,IAOpBjB,KAAK,IAENjB,EAAQmC,mBAAmB,YAAavB,E,CA5CpCwB,CAAazB,E,OAiBrB,IAAM0B,EAAO,CACTC,MAAO,mBACPC,OAAQ,mBACRN,OAAQ,CAAC,mBAAoB,aAC7BO,UAAU,EACVC,OAAQ,MAIFC,EAAgDL,EAAhDC,MACRjB,QAAQQ,IAAIa,E","sources":["src/index.js"],"sourcesContent":["\n\n\n\n\nconst select = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\nconst catInfo = document.querySelector('.cat-info');\n\nconst LIST_URL = 'https://api.thecatapi.com/v1/breeds/';\nconst BASE_URL = 'https://api.thecatapi.com/v1/images/search';\nconst API_KEY = 'live_Nyc5epOZ5A7aIisug3oaSTpi5tyQSrOU7MxmwOH7IUlCWiCTMoHx2WLptYl1EpUG';\n\n\n\n// коллекция пород\n\nfunction fetchBreeds() {\n    return fetch(`${LIST_URL}`)\n    .then(resp => {\n        // console.log(resp)       // приходит ответ на запрос пород\n        if(!resp.ok){\n            throw new Error(resp.statusText)\n        }\n        // return []\n        return resp.json()\n    })\n    .then(data => {\n        // console.log(data);          // массив из 67 пород\n        createOptions(data)\n    })\n    .catch(err => console.error(err))\n}\nfetchBreeds()\n\nfunction createOptions(arr) {\n    const markup = arr.map(item => `<option value=\"${item.id}\">${item.name}</option>`).join('');\n\n    select.innerHTML = markup;\n    // console.log(markup);        // пример разметки\n}\n\n// информация о коте\n\nselect.addEventListener('change', onSearch);\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    // console.dir(evt.currentTarget);\n    // console.dir(evt.currentTarget.value);\n    const breedId = evt.currentTarget.value;\n    console.log(breedId);          // идентификатор породы\n\n    if(!breedId){\n        alert('Empty field');\n        return;\n    }\n\n    fetchCatByBreed(breedId).then(data => {\n        // const {breeds} = data;\n        // console.log(breeds);\n        console.log(data);\n        createMarkup(data)\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n    return fetch(`${BASE_URL}?limit=10&breed_ids=${breedId}&api_key=${API_KEY}`)\n    .then(resp => {\n        // console.log(resp);      // приходит ответ на запрос\n        if(!resp.ok){\n            throw new Error(resp.statusText)\n        }\n        return resp.json()\n    })\n    .catch(err => console.error(err))\n};\n\n\nconst book = {\n    title: \"The Last Kingdom\",\n    author: \"Bernard Cornwell\",\n    breeds: [\"historical prose\", \"adventure\"],\n    isPublic: true,\n    rating: 8.38,\n  };\n  \n  // Деструктуризируем\n  const { title, author, isPublic, rating, coverImage } = book;\n  console.log(title); // undefined\n\nfunction createMarkup(arr) {\n    console.log(arr);\n    const markup = arr.map(item => \n\n    `<div>\n    <p>Name: ${item.breeds.name}</p>\n    <img src=\"${item.url}\" width=\"400\" height=\"200\" alt=\"\">\n    <p>Temperament: </p>\n    <p>Origin: </p>\n    <p>Description: </p>\n    <p>Life span: </p>\n    </div>`\n    )\n    .join('');\n\n    catInfo.insertAdjacentHTML('beforeend', markup)\n};\n"],"names":["$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$API_KEY","fetch","concat","then","resp","ok","Error","statusText","json","data","markup","map","item","id","name","join","innerHTML","catch","err","console","error","addEventListener","evt","preventDefault","breedId","currentTarget","value","log","alert","$b8f9b7833fa37166$var$fetchCatByBreed","arr","breeds","url","insertAdjacentHTML","$b8f9b7833fa37166$var$createMarkup","$b8f9b7833fa37166$var$book","title","author","isPublic","rating","$b8f9b7833fa37166$var$title"],"version":3,"file":"index.0c399c35.js.map"}